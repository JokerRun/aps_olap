<?xml version='1.0'?>
<Schema name='aps' metamodelVersion='4.0'>
    <PhysicalSchema>
        <Table name='dim_date'>
            <Key>
                <Column name='date_key'/>
            </Key>
        </Table>
        <Table name='dim_item'>
            <Key>
                <Column name='h_item_hk'/>
            </Key>
        </Table>
        <Table name='dim_location'>
            <Key>
                <Column name='h_location_hk'/>
            </Key>
        </Table>
        <Table name='dim_inventory_doc'>
            <Key>
                <Column name='h_inventory_doc_hk'/>
            </Key>
        </Table>
        <Table name='fact_inventory_daily_snapshot'/>
    </PhysicalSchema>
    <Cube name='Inventory On Hand'>
        <Dimensions>
            <Dimension name='Item' key='Item Key'>
                <Attributes>
                    <Attribute name='Item Number' table='dim_item' keyColumn='item_nr' hasHierarchy='false'/>
                    <Attribute name='Item Type' table='dim_item' keyColumn='product_type' hasHierarchy='false'/>
                    <Attribute name='Price ABC Type' table='dim_item' keyColumn='price_abc'
                               hasHierarchy='false'/>
                    <Attribute name='Item Key' table='dim_item' keyColumn='h_item_hk' hasHierarchy='false'/>
                </Attributes>
                <Hierarchies>
                    <Hierarchy name='Items' allMemberName='All Items'>
                        <Level attribute='Item Type'/>
                        <Level attribute='Price ABC Type'/>
                        <Level attribute='Item Number'/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>
        </Dimensions>
        <MeasureGroups>
            <MeasureGroup table='fact_inventory_daily_snapshot'>
                <Measures>
                    <Measure name='Onhand' column='onhand' aggregator='sum'/>
                    <Measure name='Onhand Value' column='onhand_value' aggregator='sum'/>
                </Measures>

                <DimensionLinks>
                    <ForeignKeyLink dimension='Item' foreignKeyColumn='item_key'/>
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

</Schema>